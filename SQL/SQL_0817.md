# 데이터베이스 2

|      |  구문  | 예시                                                         |
| :--: | :----: | ------------------------------------------------------------ |
|  C   | INSERT | `INSERT INTO 테이블 이름 (컬럼 1, 컬럼 2, ...) VALUES (값1, 값2);` |
|  R   | SELECT | `SELECT * FROM 테이블이름 WHERE 조건;`                       |
|  U   | UPDATE | `UPDATE 테이블이름 SET 컬럼1 =  값1, 컬럼2 = 값2 WHERE 조건;` |
|  D   | DELETE | `DELETE FROM 테이블이름 WHERE 조건;`                         |

## WHERE

Q. users 테이블에서 age가 30 이상인 유저의 모든 컬럼 정보를 조회하려면?

```sql
SELECT * FROM users WHERE age >= 30;
```

Q. users 테이블에서 age가 30 이상이고 성이 '김'인 사람의 나이와 성만 조회하려면?

```sql
SELECT age, last_name FROM users WHERE age >= 30 AND last_name = '김';
```



### 연산자

- 비교 연산자

  `=`, `>`, `>=`, `<`, `<=` 숫자 혹은 문자 값의 대/소, 동일 여부 확인

- 논리 연산자

  | AND  | 앞에 있는 조건과 뒤에 오는 조건 모두 참 |
  | ---- | --------------------------------------- |
  | OR   | 앞의 조건이나/ 뒤의 조건이 참           |
  | NOT  | 뒤에 오는 조건의 결과를 <u>반대로</u>   |

- 부정 연산자

  - 같지 않다. ( `!=`, `^=`, `<>`)
  - ~와 같지 않다. (`NOT 칼럼명 =`)
  - ~보다 크지 않다. (`NOT 칼럼명 >`)

- 연산자 우선순위

  1. 괄호 ()
  2. NOT
  3. 비교연산자, SQL
  4. AND
  5. OR



## SQLite Aggergate Functions

> 여러 행으로부터 <u>계산을 수행하고 하나의 결괏값을 반환</u>하는 함수

````
💡 SELECT 구문에서만 사용!
````
- **COUNT**

  그룹의 항목 수를 반환(레코드의 개수 조회)

  ```sql
  SELECT COUNT(`컬럼`) FROM `테이블 이름`
  ```

- **AVG**

  모든 값의 평균을 계산

- **MAX(필드)**

  필드에 있는 레코드 중 최대값

- **MIN(필드)**

  필드에 있는 레코드 중 최소값

- **SUM**

  모든 값의 합을 계산



## LIKE

> 패턴 일치를 기반으로 데이터를 조회하는 방법

```sql
SELECT * FROM `테이블이름` WHERE `컬럼` LIKE '`패턴`';
```
- 패턴 구성을 위한 2개의 `wildecards` 제공

  - `%` (percent sign)

    0개 이상의 문자

    <u>이 자리에 문자열이 있을수도, 없을 수도 있다.</u>

  - `_` (underscore)

    임의의 단일 문자

    <u>반드시 이 자리에 한 개의 문자가 존재해야 한다.</u>



## ORDER BY

> 조회 결과 집합을 정렬

- 정렬 순서를 위한 2개의 `keyword` 제공
  - **ASC** - 오름차순(default)
  - **DESC** - 내림차순

- `GROUP BY`절을 사용하는 경우 `ORDER BY`절에 집계함수를 사용할 수 있다.
- `ORDER BY`절에 `컬럼명` 대신 `Alias명`이나 컬럼 순서를 나타내는 정수를 혼용하여 사용할 수 있다.
